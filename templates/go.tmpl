// Code generated by github.com/cshum/vipsgen. DO NOT EDIT.
package vips

// #include <vips/vips.h>
import "C"

{{range .Operations}}
// {{.GoName}} {{.Description}}
// https://libvips.github.io/libvips/API/current/libvips-{{.Category}}.html#vips-{{.Name}}
func {{.GoName}}({{.RequiredInputs | formatArgs}}) (*C.VipsImage, error) {
	var out *C.VipsImage
{{range .RequiredInputs}}{{if eq .GoType "string"}}
	c{{.GoName}} := C.CString({{.GoName}})
	defer freeCString(c{{.GoName}}){{end}}{{end}}

	if err := C.{{.Name}}_wrapper({{range $i, $arg := .RequiredInputs}}{{if $i}}, {{end}}
		{{- if eq $arg.GoType "string"}}c{{$arg.GoName}}
		{{- else if eq $arg.GoType "bool"}}C.int(boolToInt({{$arg.GoName}}))
		{{- else if eq $arg.GoType "*C.VipsImage"}}{{$arg.GoName}}
		{{- else if $arg.IsEnum}}C.{{$arg.Type}}({{$arg.GoName}})
		{{- else}}C.{{$arg.CType}}({{$arg.GoName}}){{- end}}{{end}},
		&out); err != 0 {
		return nil, handleImageError(out)
	}

	return out, nil
}
{{end}}
